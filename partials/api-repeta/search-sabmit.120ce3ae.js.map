{"mappings":"AAAA,MAEMA,EAAS,CACbC,QAAS,CAAE,YAHG,qCCGhB,MAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,mBAClCC,KAAMF,SAASC,cAAc,iBAIzBE,EAAc,ICTL,MAObC,QAAQC,GACN,MAAMC,EAAO,GAKb,OAJAA,EAAKC,OAASP,SAASC,cAAcI,GACrCC,EAAKE,MAAQF,EAAKC,OAAON,cAAc,UACvCK,EAAKG,QAAUH,EAAKC,OAAON,cAAc,mBAElCK,C,CAGTI,SACEC,KAAKL,KAAKC,OAAOK,UAAW,EAC5BD,KAAKL,KAAKE,MAAMK,YAAc,YAC9BF,KAAKL,KAAKG,QAAQK,MAAMC,QAAU,M,CAGpCC,UACEL,KAAKL,KAAKC,OAAOK,UAAW,EAC5BD,KAAKL,KAAKE,MAAMK,YAAc,eAC9BF,KAAKL,KAAKG,QAAQK,MAAMC,QAAU,c,CAGpCE,OACEN,KAAKL,KAAKC,OAAOW,QAAS,C,CAG5BC,OACER,KAAKL,KAAKC,OAAOW,QAAS,C,CAhC5BE,aAAYf,SAAEA,EAAQa,OAAEA,GAAS,IAC/BP,KAAKL,KAAOK,KAAKP,QAAQC,GAEzBa,GAAUP,KAAKQ,M,GDKiB,CAAEd,SAAU,UAAWa,QAAQ,IAC7DG,EAAiB,IDJR,MAMbC,gBACE,MAAMC,EAAM,uCAA4BZ,KAAKa,2CAA2Cb,KAAKc,OAE7F,OAAOC,MAAMH,EAAK3B,GACf+B,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,SAAEA,MACPnB,KAAKoB,gBACED,I,CAGbC,gBACEpB,KAAKc,MAAQ,C,CAEfO,YACErB,KAAKc,KAAO,C,CAGVQ,YACF,OAAOtB,KAAKa,W,CAGVS,UAAMC,GACRvB,KAAKa,YAAcU,C,CA3BrBd,cACET,KAAKa,YAAc,GACnBb,KAAKc,KAAO,C,GCqBhB,SAASU,IAEP,OADAhC,EAAYa,UACLK,EACJC,gBACAK,MAAKG,KAwBV,SAAuBM,EAAQC,GAC7BA,EAAQC,mBAAmB,YAAaF,E,CAvBpCG,CAD4BT,EAS7BU,KACC,EAACC,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,EAAWrB,IAAEA,KAAU,0DAExCA,8FACGkB,+EACmBC,mCACfC,uBACXC,qCAIVC,KAAK,IAnBkB/C,EAAKI,MAC3BC,EAAYO,QAAQ,IAErBoC,OAAMC,GAAOC,QAAQC,IAAIF,I,CA3B9BjD,EAAKC,UAAUmD,iBAAiB,UAGhC,SAAkBC,GAMhB,GALAA,EAAEC,iBA8CJ,WACEtD,EAAKI,KAAKmD,UAAY,E,CA7CtBC,GACAjC,EAAeY,MAAQkB,EAAEI,cAAcC,SAASvB,MAAMwB,MAAMC,OAE/B,KAAzBrC,EAAeY,MACjB,OAAO0B,MAAM,8BAEfxD,EAAYc,OACZI,EAAeW,YAEfG,IAAgByB,SAAQ,IAAM9D,EAAKC,UAAU8D,S,IAd/C1D,EAAYG,KAAKC,OAAO2C,iBAAiB,QAASf","sources":["src/js/api-repeta/news-api-submit.js","src/js/api-repeta/search-submit.js","src/js/api-repeta/loade-more-btn-submite.js"],"sourcesContent":["const API_KEY = 'd8847f02a17a4f339957c5e8d851cb8e';\nconst BASE_URL = 'https://newsapi.org/v2';\nconst option = {\n  headers: { 'X-Api-Key': API_KEY },\n};\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const url = `${BASE_URL}/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n\n    return fetch(url, option)\n      .then(response => response.json())\n      .then(({ articles }) => {\n        this.incrementPage();\n        return articles;\n      });\n  }\n  incrementPage() {\n    this.page += 1;\n  }\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import NewsApiService from './news-api-submit';\nimport LoadMoreBtn from './loade-more-btn-submite';\n\nconst refs = {\n  serchForm: document.querySelector('.js-form-search'),\n  list: document.querySelector('.js-articles'),\n  //   btnLoadeMore: document.querySelector('.js-btn'),\n};\n\nconst loadMoreBtn = new LoadMoreBtn({ selector: '.js-btn', hidden: true });\nconst newsApiService = new NewsApiService();\n\nrefs.serchForm.addEventListener('submit', onSearch);\nloadMoreBtn.refs.button.addEventListener('click', fetchArticles);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  clearArticlesConteiner();\n  newsApiService.query = e.currentTarget.elements.query.value.trim();\n\n  if (newsApiService.query === '') {\n    return alert('Hey, please pframeters!!!!');\n  }\n  loadMoreBtn.show();\n  newsApiService.resetPage();\n\n  fetchArticles().finally(() => refs.serchForm.reset());\n}\n\nfunction fetchArticles() {\n  loadMoreBtn.disable();\n  return newsApiService\n    .fetchArticles()\n    .then(articles => {\n      const murkup = createMarkup(articles);\n      updateNewList(murkup, refs.list);\n      loadMoreBtn.enable();\n    })\n    .catch(err => console.log(err));\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ urlToImage, title, author, description, url }) => `\n      <li class = \"articles-item\">\n        <a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" class = \"articles-link\">\n          <img src=\"${urlToImage}\" alt=\"\" class = \"articles-img\" />\n          <h2 class = \"articles-title\">${title}</h2>\n          <p>Posted by: ${author}</p>\n          <p>${description}</p>\n        </a>\n      </li>`\n    )\n    .join('');\n}\n\nfunction updateNewList(murkup, element) {\n  element.insertAdjacentHTML('beforeend', murkup);\n}\n\nfunction clearArticlesConteiner() {\n  refs.list.innerHTML = '';\n}\n","export default class LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n\n    hidden && this.hide();\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n    refs.spinner = refs.button.querySelector('.spinner-border');\n\n    return refs;\n  }\n\n  enable() {\n    this.refs.button.disabled = false;\n    this.refs.label.textContent = 'Load More';\n    this.refs.spinner.style.display = 'none';\n  }\n\n  disable() {\n    this.refs.button.disabled = true;\n    this.refs.label.textContent = 'Loading.....';\n    this.refs.spinner.style.display = 'inline-block';\n  }\n\n  show() {\n    this.refs.button.hidden = false;\n  }\n\n  hide() {\n    this.refs.button.hidden = true;\n  }\n}\n"],"names":["$685ba6339910ef3d$var$option","headers","$5b9193907bcc432d$var$refs","serchForm","document","querySelector","list","$5b9193907bcc432d$var$loadMoreBtn","getRefs","selector","refs","button","label","spinner","enable","this","disabled","textContent","style","display","disable","show","hidden","hide","constructor","$5b9193907bcc432d$var$newsApiService","fetchArticles","url","searchQuery","page","fetch","then","response","json","articles","incrementPage","resetPage","query","newQuery","$5b9193907bcc432d$var$fetchArticles","murkup","element","insertAdjacentHTML","$5b9193907bcc432d$var$updateNewList","map","urlToImage","title","author","description","join","catch","err","console","log","addEventListener","e","preventDefault","innerHTML","$5b9193907bcc432d$var$clearArticlesConteiner","currentTarget","elements","value","trim","alert","finally","reset"],"version":3,"file":"search-sabmit.120ce3ae.js.map"}