{"mappings":"YAAA,IAAMA,EAAaC,SAASC,cAAc,YACpCC,EAAOF,SAASC,cAAc,YAEpCF,EAAWI,iBAAiB,UAE5B,SAAsBC,GACpBA,EAAEC,iBACF,IAAwBC,EAAAF,EAAEG,cAAcC,SAAhCC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,MASjB,SAAoBC,EAAMD,GACxB,IAAME,EAAW,+BAGXC,EAAS,IAAIC,gBAAgB,CACjCC,IAHc,kCAIdC,EAAGL,EACHD,KAAMA,EACNO,KAAM,OAGR,OAAOC,MAAM,GAA6BC,OAA1BP,EAAS,mBAAwBO,OAAPN,IAAUO,MAAK,SAAAC,GACvD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAG3B,OAAOH,EAASI,M,KAxBlBC,CAAWjB,EAAMkB,MAAOjB,EAAKiB,OAC1BP,MAAK,SAAAQ,GACJC,QAAQC,IAAIF,EAAKG,SAASC,aAC1B9B,EAAK+B,UAAyBL,EAAKG,SAASC,YA2B7CE,KACC,SAAAC,G,IACEC,EAAID,EAAJC,KAAIC,EAAAF,EACJG,IACEC,EAASF,EAATE,UAASC,EAAAH,EACTI,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,KAGrB,MAAO,gDACmBxB,OAAdwB,EAAK,WACZxB,OADqBuB,EAAK,qBAEzBvB,OADDuB,EAAK,sBAEJvB,OADAiB,EAAK,uBACKjB,OAAVoB,EAAU,qB,IAInBK,KAAK,G,IAzCLC,OAAM,SAAAC,G,OAAOjB,QAAQC,IAAIgB,E","sources":["src/js/api-rusin/weather-api.js"],"sourcesContent":["const formSearch = document.querySelector('.js-form');\nconst list = document.querySelector('.js-list');\n\nformSearch.addEventListener('submit', onSearchForm);\n\nfunction onSearchForm(e) {\n  e.preventDefault();\n  const { query, days } = e.currentTarget.elements;\n  getWeather(query.value, days.value)\n    .then(data => {\n      console.log(data.forecast.forecastday);\n      list.innerHTML = createMarkup(data.forecast.forecastday);\n    })\n    .catch(err => console.log(err));\n}\n\nfunction getWeather(city, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1';\n  const API_KEY = '8b4fe16a6b6541a5a4c203418240301';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: city,\n    days: days,\n    lang: 'uk',\n  });\n\n  return fetch(`${BASE_URL}/forecast.json?${params}`).then(responce => {\n    if (!responce.ok) {\n      throw new Error(responce.statusText);\n    }\n\n    return responce.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { text, icon },\n        },\n      }) => {\n        return `<li class=\"item-weather\">\n        <img src=\"${icon}\" alt=\"${text}\" />\n        <p>${text}</p>\n        <h2>${date}</h2>\n        <h3>${avgtemp_c}</h3>\n      </li>`;\n      }\n    )\n    .join('');\n}\n"],"names":["$593fcc2ddf34efce$var$formSearch","document","querySelector","$593fcc2ddf34efce$var$list","addEventListener","e","preventDefault","_elements","currentTarget","elements","query","days","city","BASE_URL","params","URLSearchParams","key","q","lang","fetch","concat","then","responce","ok","Error","statusText","json","$593fcc2ddf34efce$var$getWeather","value","data","console","log","forecast","forecastday","innerHTML","map","param","date","_day","day","avgtemp_c","_condition","condition","text","icon","join","catch","err"],"version":3,"file":"weather.84cfa462.js.map"}