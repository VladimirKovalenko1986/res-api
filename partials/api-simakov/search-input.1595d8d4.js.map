{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/api-simakov/api.js","src/js/api-simakov/components/loadMoreBtn.js","src/js/api-simakov/search-input.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const ENDPOINT = 'https://newsapi.org/v2/everything';\nconst API_KEY = 'd8847f02a17a4f339957c5e8d851cb8e';\n\nclass NewsApi {\n  constructor() {\n    this.queryPage = 1;\n    this.searchQuery = '';\n  }\n\n  getNews() {\n    const url = `${ENDPOINT}?q=${this.searchQuery}&pageSize=8&page=${this.queryPage}`;\n    const options = {\n      headers: { 'X-Api-Key': API_KEY },\n    };\n\n    return fetch(url, options)\n      .then(responce => responce.json())\n      .then(data => {\n        this.incrementPage();\n        return data;\n      });\n  }\n\n  resetPage() {\n    this.queryPage = 1;\n  }\n\n  incrementPage() {\n    this.queryPage += 1;\n  }\n}\n\nexport { NewsApi };\n","class LoadMoreBtn {\n  constructor({ selector, isHidden = false }) {\n    this.button = this.getButton(selector);\n\n    isHidden && this.hide();\n  }\n\n  getButton(selector) {\n    return document.querySelector(selector);\n  }\n  enable() {\n    this.button.disabled = false;\n    this.button.textContent = 'Load More';\n  }\n\n  disable() {\n    this.button.disabled = true;\n    this.button.textContent = 'Loading.....';\n  }\n\n  hide() {\n    this.button.classList.add('hidden');\n  }\n  show() {\n    this.button.classList.remove('hidden');\n  }\n}\n\nexport { LoadMoreBtn };\n","import { NewsApi } from './api';\nimport { LoadMoreBtn } from './components/loadMoreBtn';\n\nconst form = document.getElementById('form-search');\nconst lodeMoreBtn = new LoadMoreBtn({\n  selector: '#lodMoreBtn',\n  isHidden: true,\n});\nconst newsApi = new NewsApi();\n\nform.addEventListener('submit', onSubmit);\nlodeMoreBtn.button.addEventListener('click', fetchNews);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  newsApi.searchQuery = e.currentTarget.elements.news.value.trim();\n  clearNewList();\n  newsApi.resetPage();\n  lodeMoreBtn.show();\n\n  fetchNews().finally(() => form.reset());\n}\n\nfunction fetchNews() {\n  lodeMoreBtn.disable();\n  return newsApi\n    .getNews()\n    .then(({ articles }) => {\n      if (articles.length === 0 || newsApi.searchQuery === '') {\n        throw new Error('No data');\n      }\n      return articles.reduce(\n        (markup, article) => createMarkup(article) + markup,\n        ''\n      );\n    })\n    .then(markup => {\n      updateNewsList(markup);\n      lodeMoreBtn.enable();\n    })\n    .catch(onError);\n}\n\nfunction createMarkup({ author, title, description, url, urlToImage }) {\n  return `\n        <div class=\"articles-card\">\n         <img class=\"article-img\" src=\"${\n           urlToImage ||\n           'https://t3.ftcdn.net/jpg/02/48/42/64/360_F_248426448_NVKLywWqArG2ADUxDq6QprtIzsF82dMF.jpg'\n         }\" alt=\"#\" />\n            <h2 class=\"article-title\">${title}</h2>\n            <h3 class=\"article-author\"${author || 'Anonym'}></h3>\n            <p class=\"article-text\">${description || 'Fack You!!!'}</p>\n            <div class=\"article-link-conteiner\">\n                <a class=\"article-link\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">Reade more</a>\n            </div>\n        </div>`;\n}\n\nfunction updateNewsList(markup) {\n  document\n    .getElementById('articlesWrapper')\n    .insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearNewList() {\n  document.getElementById('articlesWrapper').innerHTML = '';\n}\n\nfunction onError(error) {\n  console.error(error);\n  updateNewsList('<p class =\"article-error\">Articles not found!!!</p>');\n}\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$0af224235ddc1cb2$export$113ff313411c0a47","NewsApi","this","queryPage","searchQuery","url","concat","fetch","headers","then","responce","json","data","_this","incrementPage","$4ee3c7c890d267e8$export$fa7cf5edad276a21","LoadMoreBtn","param","selector","_isHidden","isHidden","button","getButton","hide","document","querySelector","disabled","textContent","classList","add","remove","$4b1adcf312cf8bba$var$form","getElementById","$4b1adcf312cf8bba$var$lodeMoreBtn","$4b1adcf312cf8bba$var$newsApi","$4b1adcf312cf8bba$var$fetchNews","disable","getNews","articles","Error","reduce","markup","article","author","title","description","urlToImage","$4b1adcf312cf8bba$var$createMarkup","$4b1adcf312cf8bba$var$updateNewsList","enable","catch","$4b1adcf312cf8bba$var$onError","insertAdjacentHTML","error","console","addEventListener","e","preventDefault","currentTarget","elements","news","trim","innerHTML","resetPage","show","finally","reset"],"version":3,"file":"search-input.1595d8d4.js.map"}